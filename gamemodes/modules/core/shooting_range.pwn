#include <YSI_Coding\y_hooks>

// ========================================================================== //
//                       <section> Definicije </section>                      //
// ========================================================================== //





// ========================================================================== //
//                       <section> Enumeratori </section>                     //
// ========================================================================== //
enum E_SHOOTING_BOTTLES
{
    BOTTLE_ID,
    Float:BOTTLE_POS[3]
}




// ========================================================================== //
//                      <section> Promenljive </section>                      //
// ========================================================================== //
static const Float:gShootingBottles[][E_SHOOTING_BOTTLES] = 
{
    //Polica1
    {-1, {1064.953613, -359.165832, 73.543022}}, 
    {-1, {1064.953613, -359.825866, 73.543022}}, 
    {-1, {1064.953613, -359.535858, 74.523033}}, 
    {-1, {1064.953613, -359.005981, 74.523033}}, 
    {-1, {1064.953613, -360.105865, 74.523033}}, 


    //Polica2
    {-1, {1062.168945, -356.517761, 73.526519}}, 
    {-1, {1062.168945, -356.057769, 73.526519}}, 
    {-1, {1062.168945, -356.997711, 73.526519}}, 
    {-1, {1062.168945, -356.997711, 74.526527}}, 
    {-1, {1062.168945, -356.287658, 74.526527}}, 

    //Polica3
    {-1, {1058.007934, -353.427764, 74.536506}}, 
    {-1, {1058.007934, -352.617858, 74.536506}}, 
    {-1, {1058.007934, -352.617858, 73.546485}}, 
    {-1, {1058.007934, -353.257843, 73.546485}}, 
    {-1, {1058.007934, -353.087738, 74.536506}}, 

    //Polica4
    {-1, {1065.147827, -350.607604, 74.536506}}, 
    {-1, {1065.147827, -349.797698, 74.536506}}, 
    {-1, {1065.147827, -349.797698, 73.546485}}, 
    {-1, {1065.147827, -350.437683, 73.546485}}, 
    {-1, {1065.147827, -350.267578, 74.536506}}, 

    //Polica5
    {-1, {1061.447387, -347.157592, 74.536506}}, 
    {-1, {1061.447387, -346.347686, 74.536506}}, 
    {-1, {1061.447387, -346.347686, 73.546485}}, 
    {-1, {1061.447387, -346.987670, 73.546485}}, 
    {-1, {1061.447387, -346.817565, 74.536506}}
};




// ========================================================================== //
//                       <section> Callback-ovi </section>                    //
// ========================================================================== //
hook OnGameModeInit()
{
    for__loop (new i = 0; i < sizeof gShootingBottles; i++)
    {
        gShootingBottles[i][BOTTLE_ID] = CreateDynamicObject(1486, gShootingBottles[i][BOTTLE_POS][0], gShootingBottles[i][BOTTLE_POS][1], gShootingBottles[i][BOTTLE_POS][2], 0.0, 0.0, 180.0);
    }
    return true;
}

hook OnPlayerShootDynObject(playerid, weaponid, objectid, Float:x, Float:y, Float:z)
{
    if (IsValidDynamicObject(objectid)/* && IsPlayerInShootingRange(playerid)*/)
    {
        for__loop (new i = 0; i < sizeof gShootingBottles; i++)
        {
            if (gShootingBottles[i][BOTTLE_ID] != -1 && objectid == gShootingBottles[i][BOTTLE_ID])
            {
                DestroyDynamicObject(gShootingBottles[i][BOTTLE_ID]);
                gShootingBottles[i][BOTTLE_ID] = -1;

                SendClientMessageF(playerid, -1, "Pogodjen je objekat %i | %.4f, %.4f, %.4f", objectid, x, y, z);
            }
        }
    }
}




// ========================================================================== //
//                        <section> Funkcije </section>                       //
// ========================================================================== //





// ========================================================================== //
//                          <section> MySQL </section>                        //
// ========================================================================== //





// ========================================================================== //
//                        <section> Dijalozi </section>                       //
// ========================================================================== //





// ========================================================================== //
//                         <section> Komande </section>                       //
// ========================================================================== //
